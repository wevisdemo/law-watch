<script lang="ts">
	import { onMount } from 'svelte';
	import { scroll, animate, ScrollOffset } from 'motion';
	import { removeClass } from 'utils/class-director';

	import Eyes from 'components/eyes/Eyes.svelte';

	let el_header_container: Element;
	let el_h1: Element;
	let el_p: Element;
	let el_svg: Element;
	onMount(() => {
		animate(
			el_header_container,
			{ transform: ['translateY(7vw)', 'translateY(0)'] },
			{
				duration: 1,
				delay: 1.5
			}
		);

		scroll(
			animate(
				el_header_container.children[0],
				{ transform: ['translateY(0)', 'translateY(50%)'] },
				{ easing: 'linear' }
			),
			{ target: el_header_container, offset: ScrollOffset.Exit }
		);

		animate(
			el_h1,
			{ opacity: [0, 1] },
			{
				duration: 1,
				delay: 0.5
			}
		);

		animate(
			el_p,
			{ opacity: [0, 1] },
			{
				duration: 1,
				delay: 1
			}
		);

		animate(
			el_svg,
			{
				transform: ['translateY(100%)', 'translateY(0)']
			},
			{
				duration: 1,
				delay: 1.5
			}
		);

		setTimeout(() => {
			removeClass('lock-body-scroll');
		}, 1500);
	});
</script>

<section>
	<div bind:this={el_header_container} class="c" style="--h:calc(100vh - 52px - 14vw)">
		<div class="c tc">
			<Eyes />
			<header>
				<h1 bind:this={el_h1} class="wv-h2 wv-font-kondolar wv-font-black">
					ส่องผลงานผ่านสภายุคตู่สอง
				</h1>
				<p bind:this={el_p} class="wv-h5 wv-font-kondolar c-mint">
					ส.ส.
					<strong>เสนอ</strong> และ/หรือ
					<strong>โหวต</strong> กฎหมายอะไรกันบ้าง ?
				</p>
			</header>
		</div>
	</div>
	<svg
		bind:this={el_svg}
		width="1280"
		height="179"
		viewBox="0 0 1280 179"
		fill="none"
		xmlns="http://www.w3.org/2000/svg"
		aria-label="2562 ถึง 2565"
	>
		<path
			opacity="0.75"
			d="M103.052 179V128.84H69.5238L67.1478 139.4H41.0118L58.9639 125.936C86.1558 105.344 105.164 87.128 105.164 56.504C105.164 22.448 80.6118 0.271988 37.5799 0.271988C10.6518 0.271988 -11.5242 11.096 -24.4602 22.976C-24.4602 36.704 -23.4042 50.432 -21.0282 61.256H18.3078C19.6278 49.904 25.1718 41.192 35.7319 41.192C46.2918 41.192 52.3638 47.528 52.3638 58.88C52.3638 73.928 44.9718 87.128 23.3238 104.552L-25.7802 144.152V179H103.052ZM192.568 181.64C232.96 181.64 257.776 159.464 257.776 127.256V114.056C257.776 82.904 235.6 63.896 196.528 63.896C189.664 63.896 181.48 65.216 177.256 67.064L178.312 40.4H210.256L213.688 52.016H252.496L254.344 2.12H132.112L128.944 88.712L163.792 107.456C171.184 104.816 180.16 103.496 189.4 103.496C201.016 103.496 206.032 108.248 206.032 118.544V127.256C206.032 134.12 199.96 140.72 190.192 140.72C179.632 140.72 176.2 136.496 173.56 130.688H132.112C130.792 142.832 130 155.24 129.736 167.384C142.672 172.928 165.64 181.64 192.568 181.64ZM349.669 182.696C388.213 182.696 416.989 161.312 416.989 125.672V119.336C416.989 83.168 394.549 66.536 357.061 66.536C348.877 66.536 337.261 69.704 331.981 72.608V65.744C331.981 49.112 340.429 41.72 352.573 41.72C361.813 41.72 367.093 44.36 371.581 49.112H404.581C405.637 39.08 407.485 23.768 407.485 10.568C392.701 3.43999 370.789 0.271988 352.309 0.271988C308.749 0.271988 280.501 26.936 280.501 74.456V116.96C280.501 159.992 308.485 182.696 349.669 182.696ZM349.669 141.512C338.317 141.512 331.981 136.232 331.981 119.864V111.416C336.733 109.04 343.333 107.192 350.461 107.192C355.477 107.192 365.245 108.776 365.245 121.976V124.88C365.245 136.232 358.909 141.512 349.669 141.512ZM565.567 179V128.84H532.039L529.663 139.4H503.527L521.479 125.936C548.671 105.344 567.679 87.128 567.679 56.504C567.679 22.448 543.127 0.271988 500.095 0.271988C473.167 0.271988 450.991 11.096 438.055 22.976C438.055 36.704 439.111 50.432 441.487 61.256H480.823C482.143 49.904 487.687 41.192 498.247 41.192C508.807 41.192 514.879 47.528 514.879 58.88C514.879 73.928 507.487 87.128 485.839 104.552L436.735 144.152V179H565.567ZM680.956 124.88V93.2H599.116V124.88H680.956ZM842.716 179V128.84H809.188L806.812 139.4H780.676L798.628 125.936C825.82 105.344 844.828 87.128 844.828 56.504C844.828 22.448 820.276 0.271988 777.244 0.271988C750.316 0.271988 728.14 11.096 715.204 22.976C715.204 36.704 716.26 50.432 718.636 61.256H757.972C759.292 49.904 764.836 41.192 775.396 41.192C785.956 41.192 792.028 47.528 792.028 58.88C792.028 73.928 784.636 87.128 762.988 104.552L713.884 144.152V179H842.716ZM932.233 181.64C972.625 181.64 997.441 159.464 997.441 127.256V114.056C997.441 82.904 975.265 63.896 936.193 63.896C929.329 63.896 921.145 65.216 916.921 67.064L917.977 40.4H949.921L953.353 52.016H992.161L994.009 2.12H871.777L868.609 88.712L903.457 107.456C910.849 104.816 919.825 103.496 929.065 103.496C940.681 103.496 945.697 108.248 945.697 118.544V127.256C945.697 134.12 939.625 140.72 929.857 140.72C919.297 140.72 915.865 136.496 913.225 130.688H871.777C870.457 142.832 869.665 155.24 869.401 167.384C882.337 172.928 905.305 181.64 932.233 181.64ZM1089.33 182.696C1127.88 182.696 1156.65 161.312 1156.65 125.672V119.336C1156.65 83.168 1134.21 66.536 1096.73 66.536C1088.54 66.536 1076.93 69.704 1071.65 72.608V65.744C1071.65 49.112 1080.09 41.72 1092.24 41.72C1101.48 41.72 1106.76 44.36 1111.25 49.112H1144.25C1145.3 39.08 1147.15 23.768 1147.15 10.568C1132.37 3.43999 1110.45 0.271988 1091.97 0.271988C1048.41 0.271988 1020.17 26.936 1020.17 74.456V116.96C1020.17 159.992 1048.15 182.696 1089.33 182.696ZM1089.33 141.512C1077.98 141.512 1071.65 136.232 1071.65 119.864V111.416C1076.4 109.04 1083 107.192 1090.13 107.192C1095.14 107.192 1104.91 108.776 1104.91 121.976V124.88C1104.91 136.232 1098.57 141.512 1089.33 141.512ZM1241.61 181.64C1282 181.64 1306.82 159.464 1306.82 127.256V114.056C1306.82 82.904 1284.64 63.896 1245.57 63.896C1238.7 63.896 1230.52 65.216 1226.3 67.064L1227.35 40.4H1259.3L1262.73 52.016H1301.54L1303.38 2.12H1181.15L1177.98 88.712L1212.83 107.456C1220.22 104.816 1229.2 103.496 1238.44 103.496C1250.06 103.496 1255.07 108.248 1255.07 118.544V127.256C1255.07 134.12 1249 140.72 1239.23 140.72C1228.67 140.72 1225.24 136.496 1222.6 130.688H1181.15C1179.83 142.832 1179.04 155.24 1178.78 167.384C1191.71 172.928 1214.68 181.64 1241.61 181.64Z"
			fill="#3904E9"
		/>
	</svg>
</section>

<style>
	h1 {
		color: #fff;
		margin-bottom: 4px;
		opacity: 0;
	}

	p {
		opacity: 0;
	}

	svg {
		transform: translateY(100%);
		width: 100%;
		height: 14vw;
	}
</style>
